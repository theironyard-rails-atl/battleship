#winModal.modal.fade
  .modal-dialog
    .modal-content
      .modal-header
        %button.close(type="button" data-dismiss="modal")
          %span(aria-hidden="true")
          %span.sr-only Close
        %h4.modal-title You won!
      .modal-body
        %p You are a battleship baller!
      .modal-footer
        %a.btn.btn-default(type="button" data-dismiss="modal" href="/about")About The Makers
        %a.btn.btn-primary(type="button" href="/")Exit Game
#loseModal.modal.fade
  .modal-dialog
    .modal-content
      .modal-header
        %button.close(type="button" data-dismiss="modal")
          %span(aria-hidden="true")
          %span.sr-only Close
        %h4.modal-title You lost!
      .modal-body
        %p Dude, you just got beat by a computer!
      .modal-footer
        %a.btn.btn-default(type="button" data-dismiss="modal" href="/about")About The Makers
        %a.btn.btn-primary(type="button" href="/")Exit Game
.row
  .col-md-1
  .col-md-5
    .panel.panel-default
      .panel-heading Computer's Board
    %table.table
      - computer.board.size.times do |x|
        %tr
        - computer.board.size.times do |y|
          - cell = cell_class(x, y, computer)
          %td.cell{ :"data-x" => "#{x}", :"data-y" => "#{y}", :class => cell}
            %div
              - if cell == "blank"
                %a{ :href => "http://#{request.host}:#{request.port}/game?x=#{x}&y=#{y}" } &nbsp &nbsp
              - else
                &nbsp &nbsp
  .col-md-5
    .panel.panel-default
      .panel-heading Your Board
    %table.table
      - session[:player].board.size.times do |x|
        %tr
        - session[:player].board.size.times do |y|
          - cell = cell_class(x, y, session[:player])
          %td.cell{ :"data-x" => "#{x}", :"data-y" => "#{y}", :class => cell}
            %div &nbsp &nbsp
  .col-md-1

.row
  #side_bar
    %h1 Game Stats
    %p= "Misses: #{computer.board.count_misses}"
    %p= "Hits: #{computer.board.count_hits}"
    %p= "Ships Sunk: #{computer.board.count_sunk}"
    %p= "Ships Remaining: #{computer.board.count_remaining}"
.row
  .col-md-12
    - if player_result == "hit"
      .alert.alert-success.alert-dismissible(role="alert")
        %button.close(type="button" data-dismiss="alert")
          %span(aria-hidden="true")
          %span.sr-only Close
        %strong You Hit!
        You hit like a heavyweight champ!
    - elsif player_result == "sunk"
      .alert.alert-success.alert-dismissible(role="alert")
        %button.close(type="button" data-dismiss="alert")
          %span(aria-hidden="true")
          %span.sr-only Close
        %strong You Sunk!
        Did you just buy a kitchen sink, cuz you just sunk that fool!
    - elsif player_result == "miss"
      .alert.alert-danger.alert-dismissible(role="alert")
        %button.close(type="button" data-dismiss="alert")
          %span(aria-hidden="true")
          %span.sr-only Close
        %strong You Missed!
        Try playing again!
.row
  .col-md-12
    - puts computer_result
    - if computer_result == "hit"
      .alert.alert-success.alert-dismissible(role="alert")
        %button.close(type="button" data-dismiss="alert")
          %span(aria-hidden="true")
          %span.sr-only Close
        %strong Computer Hit Your Ship!
        I'm sorry. Did you want that ship?
    - elsif computer_result == "sunk"
      .alert.alert-success.alert-dismissible(role="alert")
        %button.close(type="button" data-dismiss="alert")
          %span(aria-hidden="true")
          %span.sr-only Close
        %strong Computer Ship Your Ship!
        Maybe we should play chess? Oh wait, computers are awesome at that too.
    - elsif computer_result == "miss"
      .alert.alert-danger.alert-dismissible(role="alert")
        %button.close(type="button" data-dismiss="alert")
          %span(aria-hidden="true")
          %span.sr-only Close
        %strong Computer Missed You!
        Argh! My bits are frying!
- if computer.board.game_won?
  :javascript
    $(document).ready( function() {
      $('#winModal').modal();
    } );
- elsif session[:player].board.game_won?
  :javascript
    $(document).ready( function() {
      $('#loseModal').modal();
    } );